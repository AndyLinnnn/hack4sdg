<!DOCTYPE html>

<html>
    <head>
        <title>What's up</title>
        <link rel="stylesheet" href="main.css">
    </head>

    <body>
        <h1>AAAAAA HACKATHON STUFF</h1>

        <p>welcome to HADAM's page</p>

        <form class="form">
            <label>Email:</label><br>
            <input type="email" name="email" placeholder="e.g. john.chan@email.com"><br><br>

            <label>Company:</label><br>
            <input type="text" name="company" placeholder="e.g. Starbucks"><br><br>

            <p>Rating System (1 - Terrible, 5 - Excellent):</p>
            <label>Material of Packaging:</label><br>
            <div>
                <input type="radio" name="material" value="1"> 1
                <input type="radio" name="material" value="2"> 2
                <input type="radio" name="material" value="3"> 3
                <input type="radio" name="material" value="4"> 4
                <input type="radio" name="material" value="5"> 5
            </div><br>

            <label>Convenience of Disposal:</label><br>
            <div>
                <input type="radio" name="disposal" value="1"> 1
                <input type="radio" name="disposal" value="2"> 2
                <input type="radio" name="disposal" value="3"> 3
                <input type="radio" name="disposal" value="4"> 4
                <input type="radio" name="disposal" value="5"> 5
            </div><br>

            <label>[OPTIONAL] Review:</label><br>
            <input type="text" name="review" placeholder="Write a quick review"><br><br>

            <label>Agree to the Terms and Conditions</label><br>
            <input type="checkbox" name="termsconditions" required><br><br>

            <button type="submit">Submit</button>
        </form>

        <button onclick="window.location.href='ranking.html';">View Rankings</button>

        <script>
            const formEl = document.querySelector(".form");

            formEl.addEventListener("submit", event => {
                event.preventDefault();

                const formData = new FormData(formEl);
                const data = Object.fromEntries(formData);

                fetch('http://localhost:8000/api/data', {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify(data)
                })
                .then(res => res.json())
                .then(data => console.log(data))
                .catch(error => console.log(error));
            });
        </script>

    </body>
</html>
